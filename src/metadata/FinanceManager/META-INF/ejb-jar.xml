<?xml version="1.0" encoding="UTF-8"?>
<ejb-jar xmlns="http://java.sun.com/xml/ns/j2ee"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/ejb-jar_2_1.xsd"
         version="2.1">
    <enterprise-beans>
        <session>
            <ejb-name>InvoicePositionBatchService</ejb-name>
            <local-home>com.piramide.elwis.domain.financemanager.InvoicePositionBatchServiceHome</local-home>
            <local>com.piramide.elwis.domain.financemanager.InvoicePositionBatchService</local>
            <ejb-class>com.piramide.elwis.domain.financemanager.InvoicePositionBatchServiceBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Bean</transaction-type>
        </session>
        <entity>
            <ejb-name>Account</ejb-name>
            <local-home>com.piramide.elwis.domain.financemanager.AccountHome</local-home>
            <local>com.piramide.elwis.domain.financemanager.Account</local>
            <ejb-class>com.piramide.elwis.domain.financemanager.AccountBean</ejb-class>
            <persistence-type>Container</persistence-type>
            <prim-key-class>java.lang.Integer</prim-key-class>
            <reentrant>false</reentrant>
            <cmp-version>2.x</cmp-version>
            <abstract-schema-name>Account</abstract-schema-name>
            <cmp-field>
                <field-name>accountId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>companyId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>name</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>number</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>version</field-name>
            </cmp-field>
            <primkey-field>accountId</primkey-field>
        </entity>
        <entity>
            <ejb-name>Invoice</ejb-name>
            <local-home>com.piramide.elwis.domain.financemanager.InvoiceHome</local-home>
            <local>com.piramide.elwis.domain.financemanager.Invoice</local>
            <ejb-class>com.piramide.elwis.domain.financemanager.InvoiceBean</ejb-class>
            <persistence-type>Container</persistence-type>
            <prim-key-class>java.lang.Integer</prim-key-class>
            <reentrant>false</reentrant>
            <cmp-version>2.x</cmp-version>
            <abstract-schema-name>Invoice</abstract-schema-name>
            <cmp-field>
                <field-name>invoiceId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>addressId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>companyId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>contactPersonId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>currencyId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>documentId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>invoiceDate</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>notesId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>number</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>openAmount</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>payConditionId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>paymentDate</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>reminderLevel</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>reminderDate</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>type</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>totalAmountNet</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>totalAmountGross</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>templateId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>version</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>ruleFormat</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>ruleNumber</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>creditNoteOfId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>netGross</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>sequenceRuleId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>sentAddressId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>sentContactPersonId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>additionalAddressId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>title</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>serviceDate</field-name>
            </cmp-field>
            <primkey-field>invoiceId</primkey-field>
            <query>
                <query-method>
                    <method-name>findByNumber</method-name>
                    <method-params>
                        <method-param>java.lang.String</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(p) FROM Invoice as p WHERE p.number =?1 and p.companyId = ?2]]>
                </ejb-ql>
            </query>
            <query>
                <description>
                    Finds all CreditNotes that are associated to the Invoice identifier.
                </description>
                <query-method>
                    <method-name>findByCreditNoteOfId</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(p)
                    FROM Invoice as p
                    WHERE p.type = 2 and p.creditNoteOfId =?1 and p.companyId = ?2
                    ]]>
                </ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>ejbSelectGetLastRuleNumberByInvoiceDate</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[
                    SELECT MAX (invoice.ruleNumber)
                    FROM Invoice as invoice
                    WHERE invoice.invoiceDate >= ?1 and invoice.invoiceDate <= ?2 and invoice.sequenceRuleId = ?3 and invoice.companyId = ?4
                    ]]>
                </ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>ejbSelectGetLastRuleNumberByRuleFormat</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[
                    SELECT MAX (invoice.ruleNumber)
                    FROM Invoice as invoice
                    WHERE invoice.sequenceRuleId = ?1 and invoice.companyId =?2
                    ]]>
                </ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByAddress</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(i)
                    FROM Invoice as i
                    WHERE i.addressId = ?1 AND i.contactPersonId IS NULL
                    ]]>
                </ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByContactPerson</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(i)
                    FROM Invoice as i
                    WHERE i.addressId = ?1 AND i.contactPersonId = ?2
                    ]]>
                </ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findBySentAddress</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(i)
                    FROM Invoice as i
                    WHERE i.sentAddressId = ?1 AND i.sentContactPersonId IS NULL
                    ]]>
                </ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findBySentContactPerson</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(i)
                    FROM Invoice as i
                    WHERE i.sentAddressId = ?1 AND i.sentContactPersonId = ?2
                    ]]>
                </ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByAdditionalAddressId</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(i)
                    FROM Invoice as i
                    WHERE i.additionalAddressId = ?1
                    ]]>
                </ejb-ql>
            </query>
        </entity>
        <entity>
            <ejb-name>InvoicePayment</ejb-name>
            <local-home>com.piramide.elwis.domain.financemanager.InvoicePaymentHome</local-home>
            <local>com.piramide.elwis.domain.financemanager.InvoicePayment</local>
            <ejb-class>com.piramide.elwis.domain.financemanager.InvoicePaymentBean</ejb-class>
            <persistence-type>Container</persistence-type>
            <prim-key-class>java.lang.Integer</prim-key-class>
            <reentrant>false</reentrant>
            <cmp-version>2.x</cmp-version>
            <abstract-schema-name>InvoicePayment</abstract-schema-name>
            <cmp-field>
                <field-name>paymentId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>amount</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>companyId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>freetextId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>invoiceId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>payDate</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>version</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>creditNoteId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>bankAccountId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>exported</field-name>
            </cmp-field>
            <primkey-field>paymentId</primkey-field>
            <query>
                <query-method>
                    <method-name>findByInvoiceId</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[
                    SELECT OBJECT(invoicePayment)
                    FROM InvoicePayment as invoicePayment
                    WHERE invoicePayment.invoiceId = ?1 and invoicePayment.companyId = ?2
                    ]]>
                </ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByCreditNoteId</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[
                    SELECT OBJECT(invoicePayment)
                    FROM InvoicePayment as invoicePayment
                    WHERE invoicePayment.creditNoteId = ?1 and invoicePayment.companyId = ?2
                    ]]>
                </ejb-ql>
            </query>
        </entity>
        <entity>
            <ejb-name>InvoicePosition</ejb-name>
            <local-home>com.piramide.elwis.domain.financemanager.InvoicePositionHome</local-home>
            <local>com.piramide.elwis.domain.financemanager.InvoicePosition</local>
            <ejb-class>com.piramide.elwis.domain.financemanager.InvoicePositionBean</ejb-class>
            <persistence-type>Container</persistence-type>
            <prim-key-class>java.lang.Integer</prim-key-class>
            <reentrant>false</reentrant>
            <cmp-version>2.x</cmp-version>
            <abstract-schema-name>InvoicePosition</abstract-schema-name>
            <cmp-field>
                <field-name>positionId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>accountId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>companyId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>contractId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>freetextId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>invoiceId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>payStepId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>productId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>number</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>quantity</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>totalPrice</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>unitPrice</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>version</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>vatId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>vatRate</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>discount</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>unit</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>unitPriceGross</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>totalPriceGross</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>salePositionId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>discountValue</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>exported</field-name>
            </cmp-field>
            <primkey-field>positionId</primkey-field>
            <query>
                <query-method>
                    <method-name>findByInvoiceId</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(p)
                    FROM InvoicePosition as p
                    WHERE p.invoiceId =?1 and p.companyId = ?2
                    ORDER BY p.number ASC]]>
                </ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>ejbSelectMaxPositionNumber</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT MAX(a.number)
                    FROM InvoicePosition AS a
                    WHERE a.invoiceId =?1 and a.companyId =?2]]>
                </ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByContractId</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(p)
                    FROM InvoicePosition as p
                    WHERE p.contractId =?1 and p.companyId = ?2]]>
                </ejb-ql>
            </query>
            <query>
                <description>
                    Finds all InvoicePositions objects related to Invoice whose attribute 'type' is 'Invoice'
                    by contract identifier.
                </description>
                <query-method>
                    <method-name>findByContractIdPositive</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(p)
                    FROM InvoicePosition as p
                    WHERE p.contractId =?1 and p.companyId = ?2 and p.invoice.type = 1]]>
                </ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByPayStepId</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(p)
                    FROM InvoicePosition as p
                    WHERE p.payStepId =?1 and p.companyId = ?2 and p.invoice.type = 1]]>
                </ejb-ql>
            </query>
            <query>
                <description>
                    finds all invoice positions associated to payment step and product contract
                    does not matter if the position came from invoice or credit note.
                </description>
                <query-method>
                    <method-name>findByPaymentStepAndContract</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(p)
                    FROM InvoicePosition as p
                    WHERE p.contractId = ?1 and p.payStepId =?2 and p.companyId = ?3]]>
                </ejb-ql>
            </query>
            <query>
                <description>
                    finds all invoice positions where discount value is not null.
                </description>
                <query-method>
                    <method-name>findByDiscount</method-name>
                    <method-params/>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(p)
                    FROM InvoicePosition as p
                    WHERE p.discount is not null and p.discountValue is null]]>
                </ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByUnitPriceIsNull</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(p)
                    FROM InvoicePosition as p
                    WHERE p.invoiceId =?1 and p.companyId = ?2 and p.unitPrice is null]]>
                </ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByUnitPriceGrossIsNull</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(p)
                    FROM InvoicePosition as p
                    WHERE p.invoiceId =?1 and p.companyId = ?2 and p.unitPriceGross is null]]>
                </ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findBySalePositionId</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(p)
                    FROM InvoicePosition as p
                    WHERE p.salePositionId =?1 and p.companyId = ?2]]>
                </ejb-ql>
            </query>
        </entity>
        <entity>
            <ejb-name>InvoiceReminder</ejb-name>
            <local-home>com.piramide.elwis.domain.financemanager.InvoiceReminderHome</local-home>
            <local>com.piramide.elwis.domain.financemanager.InvoiceReminder</local>
            <ejb-class>com.piramide.elwis.domain.financemanager.InvoiceReminderBean</ejb-class>
            <persistence-type>Container</persistence-type>
            <prim-key-class>java.lang.Integer</prim-key-class>
            <reentrant>false</reentrant>
            <cmp-version>2.x</cmp-version>
            <abstract-schema-name>InvoiceReminder</abstract-schema-name>
            <cmp-field>
                <field-name>reminderId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>companyId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>date</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>descriptionId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>documentId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>invoiceId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>reminderLevelId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>version</field-name>
            </cmp-field>
            <primkey-field>reminderId</primkey-field>
            <query>
                <query-method>
                    <method-name>findByInvoiceId</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[
                    SELECT OBJECT(invoiceReminder)
                    FROM InvoiceReminder as invoiceReminder
                    WHERE invoiceReminder.invoiceId = ?1 and invoiceReminder.companyId = ?2
                    ]]>
                </ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByReminderLevel</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[
                    SELECT OBJECT(invoiceReminder)
                    FROM InvoiceReminder as invoiceReminder
                    WHERE invoiceReminder.invoiceId = ?1 and invoiceReminder.companyId = ?2 and invoiceReminder.reminderLevel.level > ?3
                    ]]>
                </ejb-ql>
            </query>
        </entity>
        <entity>
            <ejb-name>InvoiceVat</ejb-name>
            <local-home>com.piramide.elwis.domain.financemanager.InvoiceVatHome</local-home>
            <local>com.piramide.elwis.domain.financemanager.InvoiceVat</local>
            <ejb-class>com.piramide.elwis.domain.financemanager.InvoiceVatBean</ejb-class>
            <persistence-type>Container</persistence-type>
            <prim-key-class>com.piramide.elwis.domain.financemanager.InvoiceVatPK</prim-key-class>
            <reentrant>false</reentrant>
            <cmp-version>2.x</cmp-version>
            <abstract-schema-name>InvoiceVat</abstract-schema-name>
            <cmp-field>
                <field-name>invoiceId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>vatId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>amount</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>companyId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>vatRate</field-name>
            </cmp-field>
            <query>
                <query-method>
                    <method-name>findByInvoiceId</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[
                    SELECT OBJECT(p)
                    FROM InvoiceVat as p
                    WHERE p.invoiceId =?1 and p.companyId = ?2]]>
                </ejb-ql>
            </query>
        </entity>
        <entity>
            <ejb-name>InvoiceFreeNumber</ejb-name>
            <local-home>com.piramide.elwis.domain.financemanager.InvoiceFreeNumberHome</local-home>
            <local>com.piramide.elwis.domain.financemanager.InvoiceFreeNumber</local>
            <ejb-class>com.piramide.elwis.domain.financemanager.InvoiceFreeNumberBean</ejb-class>
            <persistence-type>Container</persistence-type>
            <prim-key-class>java.lang.Integer</prim-key-class>
            <reentrant>true</reentrant>
            <cmp-version>2.x</cmp-version>
            <abstract-schema-name>InvoiceFreeNumber</abstract-schema-name>
            <cmp-field>
                <field-name>companyId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>freeNumberId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>number</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>invoiceDate</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>ruleFormat</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>sequenceRuleId</field-name>
            </cmp-field>
            <primkey-field>freeNumberId</primkey-field>
            <query>
                <query-method>
                    <method-name>ejbSelectGetNumberByRange</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT MIN (invoiceFreeNumber.number)
                    FROM InvoiceFreeNumber as invoiceFreeNumber
                    WHERE invoiceFreeNumber.sequenceRuleId = ?1
                    and invoiceFreeNumber.invoiceDate >= ?2
                    and invoiceFreeNumber.invoiceDate <= ?3
                    and invoiceFreeNumber.companyId = ?4]]>
                </ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>ejbSelectGetNumber</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT MIN (invoiceFreeNumber.number)
                    FROM InvoiceFreeNumber as invoiceFreeNumber
                    WHERE invoiceFreeNumber.sequenceRuleId = ?1 and invoiceFreeNumber.companyId =?2
                    ]]>
                </ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByRangeFormat</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(invoiceFreeNumber)
                    FROM InvoiceFreeNumber as invoiceFreeNumber
                    WHERE invoiceFreeNumber.sequenceRuleId = ?1
                    and invoiceFreeNumber.companyId = ?2
                    ]]>
                </ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findInvoiceFreeNumberByRange</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(invoiceFreeNumber)
                    FROM InvoiceFreeNumber as invoiceFreeNumber
                    WHERE invoiceFreeNumber.sequenceRuleId = ?1
                    and invoiceFreeNumber.invoiceDate >= ?2
                    and invoiceFreeNumber.invoiceDate <= ?3
                    and invoiceFreeNumber.number = ?4
                    and invoiceFreeNumber.companyId = ?5
                    ]]>
                </ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findInvoiceFreeNumber</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(invoiceFreeNumber)
                    FROM InvoiceFreeNumber as invoiceFreeNumber
                    WHERE invoiceFreeNumber.sequenceRuleId = ?1
                    and invoiceFreeNumber.number = ?2
                    and invoiceFreeNumber.companyId = ?3
                    ]]>
                </ejb-ql>
            </query>
        </entity>
        <entity>
            <ejb-name>InvoiceTemplate</ejb-name>
            <local-home>com.piramide.elwis.domain.financemanager.InvoiceTemplateHome</local-home>
            <local>com.piramide.elwis.domain.financemanager.InvoiceTemplate</local>
            <ejb-class>com.piramide.elwis.domain.financemanager.InvoiceTemplateBean</ejb-class>
            <persistence-type>Container</persistence-type>
            <prim-key-class>java.lang.Integer</prim-key-class>
            <reentrant>false</reentrant>
            <cmp-version>2.x</cmp-version>
            <abstract-schema-name>InvoiceTemplate</abstract-schema-name>
            <cmp-field>
                <field-name>templateId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>companyId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>title</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>version</field-name>
            </cmp-field>
            <primkey-field>templateId</primkey-field>
            <query>
                <query-method>
                    <method-name>findByCompanyId</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(t) FROM InvoiceTemplate as t WHERE t.companyId = ?1]]>
                </ejb-ql>
            </query>
        </entity>
        <entity>
            <ejb-name>InvoiceText</ejb-name>
            <local-home>com.piramide.elwis.domain.financemanager.InvoiceTextHome</local-home>
            <local>com.piramide.elwis.domain.financemanager.InvoiceText</local>
            <ejb-class>com.piramide.elwis.domain.financemanager.InvoiceTextBean</ejb-class>
            <persistence-type>Container</persistence-type>
            <prim-key-class>com.piramide.elwis.domain.financemanager.InvoiceTextPK</prim-key-class>
            <reentrant>false</reentrant>
            <cmp-version>2.x</cmp-version>
            <abstract-schema-name>InvoiceText</abstract-schema-name>
            <cmp-field>
                <field-name>languageId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>templateId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>freetextId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>isDefault</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>companyId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>version</field-name>
            </cmp-field>
            <query>
                <query-method>
                    <method-name>findDefaultInvoiceText</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[
                    SELECT OBJECT(invoiceText)
                    FROM InvoiceText as invoiceText
                    WHERE invoiceText.templateId = ?1 and invoiceText.companyId=?2 and invoiceText.isDefault = true
                    ]]>
                </ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findInvoiceTextsByTemplateId</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[
                    SELECT OBJECT(invoiceText)
                    FROM InvoiceText as invoiceText
                    WHERE invoiceText.templateId = ?1 and invoiceText.companyId=?2
                    ]]>
                </ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByDocumentFreeTextId</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(t) FROM InvoiceText as t WHERE t.freetextId = ?1]]>
                </ejb-ql>
            </query>
        </entity>
        <entity>
            <ejb-name>ReminderText</ejb-name>
            <local-home>com.piramide.elwis.domain.financemanager.ReminderTextHome</local-home>
            <local>com.piramide.elwis.domain.financemanager.ReminderText</local>
            <ejb-class>com.piramide.elwis.domain.financemanager.ReminderTextBean</ejb-class>
            <persistence-type>Container</persistence-type>
            <prim-key-class>com.piramide.elwis.domain.financemanager.ReminderTextPK</prim-key-class>
            <reentrant>false</reentrant>
            <cmp-version>2.x</cmp-version>
            <abstract-schema-name>ReminderText</abstract-schema-name>
            <cmp-field>
                <field-name>languageId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>reminderLevelId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>companyId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>isDefault</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>freetextId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>version</field-name>
            </cmp-field>
            <query>
                <query-method>
                    <method-name>findDefaultReminderText</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(reminderText)
                    FROM ReminderText as reminderText
                    WHERE reminderText.reminderLevelId = ?1 and reminderText.companyId=?2 and reminderText.isDefault = true
                    ]]>
                </ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findReminderTextByReminderLevelId</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[
                    SELECT OBJECT(reminderText)
                    FROM ReminderText as reminderText
                    WHERE reminderText.reminderLevelId = ?1 and reminderText.companyId=?2
                    ]]>
                </ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByDocumentFreeTextId</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(t) FROM ReminderText as t WHERE t.freetextId = ?1]]>
                </ejb-ql>
            </query>
        </entity>
        <entity>
            <ejb-name>ReminderLevel</ejb-name>
            <local-home>com.piramide.elwis.domain.financemanager.ReminderLevelHome</local-home>
            <local>com.piramide.elwis.domain.financemanager.ReminderLevel</local>
            <ejb-class>com.piramide.elwis.domain.financemanager.ReminderLevelBean</ejb-class>
            <persistence-type>Container</persistence-type>
            <prim-key-class>java.lang.Integer</prim-key-class>
            <reentrant>false</reentrant>
            <cmp-version>2.x</cmp-version>
            <abstract-schema-name>ReminderLevel</abstract-schema-name>
            <cmp-field>
                <field-name>reminderLevelId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>companyId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>fee</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>level</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>name</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>numberOfDays</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>version</field-name>
            </cmp-field>
            <primkey-field>reminderLevelId</primkey-field>
            <query>
                <query-method>
                    <method-name>findNext</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[
                    SELECT OBJECT(reminderLevel)
                    FROM ReminderLevel as reminderLevel
                    WHERE reminderLevel.level = ?1 and reminderLevel.companyId=?2
                    ]]>
                </ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByCompanyId</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[
                    SELECT OBJECT(reminderLevel)
                    FROM ReminderLevel as reminderLevel
                    WHERE reminderLevel.companyId=?1
                    ORDER BY reminderLevel.level
                    ]]>
                </ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByLevel</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[
                    SELECT OBJECT(reminderLevel)
                    FROM ReminderLevel as reminderLevel
                    WHERE reminderLevel.level = ?1 and reminderLevel.companyId = ?2
                    ]]>
                </ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>ejbSelectMaxLevel</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[
                    SELECT MAX(r.level)
                    FROM ReminderLevel AS r
                    WHERE r.companyId = ?1
                    ]]>
                </ejb-ql>
            </query>
        </entity>
        <entity>
            <ejb-name>SequenceRule</ejb-name>
            <local-home>com.piramide.elwis.domain.financemanager.SequenceRuleHome</local-home>
            <local>com.piramide.elwis.domain.financemanager.SequenceRule</local>
            <ejb-class>com.piramide.elwis.domain.financemanager.SequenceRuleBean</ejb-class>
            <persistence-type>Container</persistence-type>
            <prim-key-class>java.lang.Integer</prim-key-class>
            <reentrant>false</reentrant>
            <cmp-version>2.x</cmp-version>
            <abstract-schema-name>SequenceRule</abstract-schema-name>
            <cmp-field>
                <field-name>numberId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>companyId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>format</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>lastNumber</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>lastDate</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>resetType</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>startNumber</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>type</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>version</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>label</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>debitorId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>debitorNumber</field-name>
            </cmp-field>
            <primkey-field>numberId</primkey-field>
            <query>
                <query-method>
                    <method-name>findByFormat</method-name>
                    <method-params>
                        <method-param>java.lang.String</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(sequenceRule)
                    FROM SequenceRule as sequenceRule
                    WHERE sequenceRule.format = ?1 and sequenceRule.companyId=?2
                    ]]>
                </ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByType</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(sequenceRule)
                    FROM SequenceRule as sequenceRule
                    WHERE sequenceRule.type = ?1 and sequenceRule.companyId=?2
                    ]]>
                </ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByDebitorId</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(sequenceRule)
                    FROM SequenceRule as sequenceRule
                    WHERE sequenceRule.debitorId = ?1
                    ]]>
                </ejb-ql>
            </query>
        </entity>
        <entity>
            <ejb-name>FinanceFreeText</ejb-name>
            <local-home>com.piramide.elwis.domain.financemanager.FinanceFreeTextHome</local-home>
            <local>com.piramide.elwis.domain.financemanager.FinanceFreeText</local>
            <ejb-class>com.piramide.elwis.domain.financemanager.FinanceFreeTextBean</ejb-class>
            <persistence-type>Container</persistence-type>
            <prim-key-class>java.lang.Integer</prim-key-class>
            <reentrant>false</reentrant>
            <cmp-version>2.x</cmp-version>
            <abstract-schema-name>FinanceFreeText</abstract-schema-name>
            <cmp-field>
                <field-name>freeTextId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>companyId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>type</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>version</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>value</field-name>
            </cmp-field>
            <primkey-field>freeTextId</primkey-field>
        </entity>
        <entity>
            <ejb-name>IncomingInvoice</ejb-name>
            <local-home>com.piramide.elwis.domain.financemanager.IncomingInvoiceHome</local-home>
            <local>com.piramide.elwis.domain.financemanager.IncomingInvoice</local>
            <ejb-class>com.piramide.elwis.domain.financemanager.IncomingInvoiceBean</ejb-class>
            <persistence-type>Container</persistence-type>
            <prim-key-class>java.lang.Integer</prim-key-class>
            <reentrant>true</reentrant>
            <cmp-version>2.x</cmp-version>
            <abstract-schema-name>IncomingInvoice</abstract-schema-name>
            <cmp-field>
                <field-name>incomingInvoiceId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>amountGross</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>amountNet</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>companyId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>currencyId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>invoiceDate</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>invoiceNumber</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>notesId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>openAmount</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>paidUntil</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>receiptDate</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>supplierId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>toBePaidUntil</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>type</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>version</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>documentId</field-name>
            </cmp-field>
            <primkey-field>incomingInvoiceId</primkey-field>
            <query>
                <query-method>
                    <method-name>findBySupplierId</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(i)
                    FROM IncomingInvoice as i
                    WHERE i.supplierId = ?1
                    ]]>
                </ejb-ql>
            </query>
        </entity>
        <entity>
            <ejb-name>IncomingPayment</ejb-name>
            <local-home>com.piramide.elwis.domain.financemanager.IncomingPaymentHome</local-home>
            <local>com.piramide.elwis.domain.financemanager.IncomingPayment</local>
            <ejb-class>com.piramide.elwis.domain.financemanager.IncomingPaymentBean</ejb-class>
            <persistence-type>Container</persistence-type>
            <prim-key-class>java.lang.Integer</prim-key-class>
            <reentrant>true</reentrant>
            <cmp-version>2.x</cmp-version>
            <abstract-schema-name>IncomingPayment</abstract-schema-name>
            <cmp-field>
                <field-name>paymentId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>amount</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>companyId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>notesId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>payDate</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>incomingInvoiceId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>version</field-name>
            </cmp-field>
            <primkey-field>paymentId</primkey-field>
            <query>
                <query-method>
                    <method-name>ejbSelectMaxPayDate</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT MAX (ip.payDate)
                    FROM IncomingPayment as ip
                    WHERE ip.incomingInvoiceId = ?1 and ip.companyId =?2
                    ]]>
                </ejb-ql>
            </query>
        </entity>
    </enterprise-beans>
    <relationships>
        <ejb-relation>
            <ejb-relation-name>Invoice - InvoicePayment</ejb-relation-name>
            <ejb-relationship-role>
                <ejb-relationship-role-name>Invoice</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <relationship-role-source>
                    <ejb-name>Invoice</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>invoicePayment</cmr-field-name>
                    <cmr-field-type>java.util.Collection</cmr-field-type>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>InvoicePayment</ejb-relationship-role-name>
                <multiplicity>Many</multiplicity>
                <relationship-role-source>
                    <ejb-name>InvoicePayment</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>invoice</cmr-field-name>
                </cmr-field>
            </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relation-name>Invoice - InvoicePosition</ejb-relation-name>
            <ejb-relationship-role>
                <ejb-relationship-role-name>invoice</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <relationship-role-source>
                    <ejb-name>Invoice</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>invoicePositions</cmr-field-name>
                    <cmr-field-type>java.util.Collection</cmr-field-type>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>position</ejb-relationship-role-name>
                <multiplicity>Many</multiplicity>
                <relationship-role-source>
                    <ejb-name>InvoicePosition</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>invoice</cmr-field-name>
                </cmr-field>
            </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relation-name>Invoice - InvoiceReminder</ejb-relation-name>
            <ejb-relationship-role>
                <ejb-relationship-role-name>invoice</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <relationship-role-source>
                    <ejb-name>Invoice</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>invoiceReminders</cmr-field-name>
                    <cmr-field-type>java.util.Collection</cmr-field-type>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>invoiceReminder</ejb-relationship-role-name>
                <multiplicity>Many</multiplicity>
                <relationship-role-source>
                    <ejb-name>InvoiceReminder</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>invoice</cmr-field-name>
                </cmr-field>
            </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relation-name>Invoice - InvoiceVat</ejb-relation-name>
            <ejb-relationship-role>
                <ejb-relationship-role-name>invoice</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <relationship-role-source>
                    <ejb-name>Invoice</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>invoiceVats</cmr-field-name>
                    <cmr-field-type>java.util.Collection</cmr-field-type>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>invoiceVat</ejb-relationship-role-name>
                <multiplicity>Many</multiplicity>
                <relationship-role-source>
                    <ejb-name>InvoiceVat</ejb-name>
                </relationship-role-source>
            </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relation-name>InvoiceReminder - ReminderLevel</ejb-relation-name>
            <ejb-relationship-role>
                <ejb-relationship-role-name>InvoiceReminder</ejb-relationship-role-name>
                <multiplicity>Many</multiplicity>
                <relationship-role-source>
                    <ejb-name>InvoiceReminder</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>reminderLevel</cmr-field-name>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>ReminderLevel</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <relationship-role-source>
                    <ejb-name>ReminderLevel</ejb-name>
                </relationship-role-source>
            </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relation-name>InvoiceTemplate - InvoiceText</ejb-relation-name>
            <ejb-relationship-role>
                <ejb-relationship-role-name>InvoiceTemplate</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <relationship-role-source>
                    <ejb-name>InvoiceTemplate</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>invoiceTexts</cmr-field-name>
                    <cmr-field-type>java.util.Collection</cmr-field-type>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>InvoiceText</ejb-relationship-role-name>
                <multiplicity>Many</multiplicity>
                <relationship-role-source>
                    <ejb-name>InvoiceText</ejb-name>
                </relationship-role-source>
            </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relation-name>ReminderLevel - ReminderText</ejb-relation-name>
            <ejb-relationship-role>
                <ejb-relationship-role-name>ReminderLevel</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <relationship-role-source>
                    <ejb-name>ReminderLevel</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>reminderTexts</cmr-field-name>
                    <cmr-field-type>java.util.Collection</cmr-field-type>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>ReminderText</ejb-relationship-role-name>
                <multiplicity>Many</multiplicity>
                <relationship-role-source>
                    <ejb-name>ReminderText</ejb-name>
                </relationship-role-source>
            </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relation-name>Invoice - Document</ejb-relation-name>
            <ejb-relationship-role>
                <ejb-relationship-role-name>Invoice</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <relationship-role-source>
                    <ejb-name>Invoice</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>document</cmr-field-name>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>Document</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <cascade-delete/>
                <relationship-role-source>
                    <ejb-name>FinanceFreeText</ejb-name>
                </relationship-role-source>
            </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relation-name>Invoice - FinanceFreeText</ejb-relation-name>
            <ejb-relationship-role>
                <ejb-relationship-role-name>Invoice</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <relationship-role-source>
                    <ejb-name>Invoice</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>financeFreeText</cmr-field-name>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>FinanceFreeText</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <cascade-delete/>
                <relationship-role-source>
                    <ejb-name>FinanceFreeText</ejb-name>
                </relationship-role-source>
            </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relation-name>InvoicePayment - FinanceFreeText</ejb-relation-name>
            <ejb-relationship-role>
                <ejb-relationship-role-name>InvoicePayment</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <relationship-role-source>
                    <ejb-name>InvoicePayment</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>financeFreeText</cmr-field-name>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>FinanceFreeText</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <cascade-delete/>
                <relationship-role-source>
                    <ejb-name>FinanceFreeText</ejb-name>
                </relationship-role-source>
            </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relation-name>InvoicePosition - FinanceFreeText</ejb-relation-name>
            <ejb-relationship-role>
                <ejb-relationship-role-name>InvoicePosition</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <relationship-role-source>
                    <ejb-name>InvoicePosition</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>financeFreeText</cmr-field-name>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>FinanceFreeText</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <cascade-delete/>
                <relationship-role-source>
                    <ejb-name>FinanceFreeText</ejb-name>
                </relationship-role-source>
            </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relation-name>InvoiceReminder - FinanceFreeText</ejb-relation-name>
            <ejb-relationship-role>
                <ejb-relationship-role-name>InvoiceReminder</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <relationship-role-source>
                    <ejb-name>InvoiceReminder</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>description</cmr-field-name>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>FinanceFreeText</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <cascade-delete/>
                <relationship-role-source>
                    <ejb-name>FinanceFreeText</ejb-name>
                </relationship-role-source>
            </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relation-name>InvoiceText - FinanceFreeText</ejb-relation-name>
            <ejb-relationship-role>
                <ejb-relationship-role-name>InvoiceText</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <relationship-role-source>
                    <ejb-name>InvoiceText</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>financeFreeText</cmr-field-name>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>FinanceFreeText</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <cascade-delete/>
                <relationship-role-source>
                    <ejb-name>FinanceFreeText</ejb-name>
                </relationship-role-source>
            </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relation-name>ReminderText - FinanceFreeText</ejb-relation-name>
            <ejb-relationship-role>
                <ejb-relationship-role-name>ReminderText</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <relationship-role-source>
                    <ejb-name>ReminderText</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>financeFreeText</cmr-field-name>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>FinanceFreeText</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <cascade-delete/>
                <relationship-role-source>
                    <ejb-name>FinanceFreeText</ejb-name>
                </relationship-role-source>
            </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relation-name>IncomingInvoice - IncomingPayment</ejb-relation-name>
            <ejb-relationship-role>
                <ejb-relationship-role-name>IncomingInvoice</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <relationship-role-source>
                    <ejb-name>IncomingInvoice</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>incomingPayments</cmr-field-name>
                    <cmr-field-type>java.util.Collection</cmr-field-type>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>IncomingPayment</ejb-relationship-role-name>
                <multiplicity>Many</multiplicity>
                <relationship-role-source>
                    <ejb-name>IncomingPayment</ejb-name>
                </relationship-role-source>
            </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relation-name>IncomingInvoice - FinanceFreeText</ejb-relation-name>
            <ejb-relationship-role>
                <ejb-relationship-role-name>IncomingInvoice</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <relationship-role-source>
                    <ejb-name>IncomingInvoice</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>note</cmr-field-name>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>FinanceFreeText</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <cascade-delete/>
                <relationship-role-source>
                    <ejb-name>FinanceFreeText</ejb-name>
                </relationship-role-source>
            </ejb-relationship-role>
        </ejb-relation>

        <ejb-relation>
            <ejb-relation-name>IncomingInvoice - DocumentFreeText</ejb-relation-name>
            <ejb-relationship-role>
                <ejb-relationship-role-name>IncomingInvoice</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <relationship-role-source>
                    <ejb-name>IncomingInvoice</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>invoiceDocument</cmr-field-name>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>DocumentFreeText</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <cascade-delete/>
                <relationship-role-source>
                    <ejb-name>FinanceFreeText</ejb-name>
                </relationship-role-source>
            </ejb-relationship-role>
        </ejb-relation>

        <ejb-relation>
            <ejb-relation-name>IncomingPayment - FinanceFreeText</ejb-relation-name>
            <ejb-relationship-role>
                <ejb-relationship-role-name>IncomingPayment</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <relationship-role-source>
                    <ejb-name>IncomingPayment</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>note</cmr-field-name>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>FinanceFreeText</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <cascade-delete/>
                <relationship-role-source>
                    <ejb-name>FinanceFreeText</ejb-name>
                </relationship-role-source>
            </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relation-name>SequenceRule - InvoiceFreeNumber</ejb-relation-name>
            <ejb-relationship-role>
                <ejb-relationship-role-name>sequenceRule</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <relationship-role-source>
                    <ejb-name>SequenceRule</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>invoiceFreeNumbers</cmr-field-name>
                    <cmr-field-type>java.util.Collection</cmr-field-type>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>invoiceFreeNumber</ejb-relationship-role-name>
                <multiplicity>Many</multiplicity>
                <relationship-role-source>
                    <ejb-name>InvoiceFreeNumber</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>sequenceRule</cmr-field-name>
                </cmr-field>
            </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relation-name>SequenceRule - Invoice</ejb-relation-name>
            <ejb-relationship-role>
                <ejb-relationship-role-name>sequenceRule</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <relationship-role-source>
                    <ejb-name>SequenceRule</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>invoices</cmr-field-name>
                    <cmr-field-type>java.util.Collection</cmr-field-type>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>invoice</ejb-relationship-role-name>
                <multiplicity>Many</multiplicity>
                <relationship-role-source>
                    <ejb-name>Invoice</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>sequenceRule</cmr-field-name>
                </cmr-field>
            </ejb-relationship-role>
        </ejb-relation>
    </relationships>
    <assembly-descriptor>
        <container-transaction>
            <method>
                <ejb-name>Account</ejb-name>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>FinanceFreeText</ejb-name>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>Invoice</ejb-name>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>InvoiceFreeNumber</ejb-name>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>InvoicePayment</ejb-name>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>InvoicePosition</ejb-name>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>InvoiceReminder</ejb-name>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>InvoiceTemplate</ejb-name>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>InvoiceText</ejb-name>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>InvoiceVat</ejb-name>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>ReminderLevel</ejb-name>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>ReminderText</ejb-name>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>SequenceRule</ejb-name>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
    </assembly-descriptor>
</ejb-jar>