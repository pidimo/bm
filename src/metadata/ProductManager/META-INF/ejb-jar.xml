<?xml version="1.0" encoding="UTF-8"?>
<ejb-jar xmlns="http://java.sun.com/xml/ns/j2ee"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/ejb-jar_2_1.xsd"
         version="2.1">
    <enterprise-beans>
        <entity>
            <ejb-name>ProductText</ejb-name>
            <local-home>com.piramide.elwis.domain.productmanager.ProductTextHome</local-home>
            <local>com.piramide.elwis.domain.productmanager.ProductText</local>
            <ejb-class>com.piramide.elwis.domain.productmanager.ProductTextBean</ejb-class>
            <persistence-type>Container</persistence-type>
            <prim-key-class>com.piramide.elwis.domain.productmanager.ProductTextPK</prim-key-class>
            <reentrant>false</reentrant>
            <cmp-version>2.x</cmp-version>
            <abstract-schema-name>ProductText</abstract-schema-name>
            <cmp-field>
                <field-name>productId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>languageId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>freetextId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>isDefault</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>companyId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>version</field-name>
            </cmp-field>
            <query>
                <query-method>
                    <method-name>findProductTextByProductId</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[
                    SELECT OBJECT(productText)
                    FROM ProductText AS productText
                    WHERE productText.productId = ?1 AND productText.companyId = ?2]]>
                </ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findDefaultProductText</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[
                    SELECT OBJECT(productText)
                    FROM ProductText AS productText
                    WHERE productText.productId = ?1 AND productText.companyId = ?2 AND productText.isDefault = true]]>
                </ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findProductTextByLanguageId</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[
                    SELECT OBJECT(productText)
                    FROM ProductText AS productText
                    WHERE productText.productId = ?1 AND productText.languageId = ?2 AND productText.companyId = ?3]]>
                </ejb-ql>
            </query>
        </entity>
        <entity>
            <ejb-name>Product</ejb-name>
            <local-home>com.piramide.elwis.domain.productmanager.ProductHome</local-home>
            <local>com.piramide.elwis.domain.productmanager.Product</local>
            <ejb-class>com.piramide.elwis.domain.productmanager.ProductBean</ejb-class>
            <persistence-type>Container</persistence-type>
            <prim-key-class>java.lang.Integer</prim-key-class>
            <reentrant>false</reentrant>
            <cmp-version>2.x</cmp-version>
            <abstract-schema-name>Product</abstract-schema-name>
            <cmp-field>
                <field-name>productId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>companyId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>currentVersion</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>descriptionId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>price</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>productGroupId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>productName</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>productNumber</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>productTypeId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>unitId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>version</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>accountId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>langTextId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>priceGross</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>vatId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>initDateTime</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>endDateTime</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>webSiteLink</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>eventAddress</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>eventMaxParticipant</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>closingDateTime</field-name>
            </cmp-field>
            <primkey-field>productId</primkey-field>
        </entity>
        <entity>
            <ejb-name>ProductFreeText</ejb-name>
            <local-home>com.piramide.elwis.domain.productmanager.ProductFreeTextHome</local-home>
            <local>com.piramide.elwis.domain.productmanager.ProductFreeText</local>
            <ejb-class>com.piramide.elwis.domain.productmanager.ProductFreeTextBean</ejb-class>
            <persistence-type>Container</persistence-type>
            <prim-key-class>java.lang.Integer</prim-key-class>
            <reentrant>false</reentrant>
            <cmp-version>2.x</cmp-version>
            <abstract-schema-name>ProductFreeText</abstract-schema-name>
            <cmp-field>
                <field-name>companyId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>freeTextId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>type</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>value</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>version</field-name>
            </cmp-field>
            <primkey-field>freeTextId</primkey-field>
        </entity>
        <entity>
            <ejb-name>CompetitorProduct</ejb-name>
            <local-home>com.piramide.elwis.domain.productmanager.CompetitorProductHome</local-home>
            <local>com.piramide.elwis.domain.productmanager.CompetitorProduct</local>
            <ejb-class>com.piramide.elwis.domain.productmanager.CompetitorProductBean</ejb-class>
            <persistence-type>Container</persistence-type>
            <prim-key-class>java.lang.Integer</prim-key-class>
            <reentrant>false</reentrant>
            <cmp-version>2.x</cmp-version>
            <abstract-schema-name>CompetitorProduct</abstract-schema-name>
            <cmp-field>
                <field-name>competitorProductId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>changeDate</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>companyId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>competitorId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>entryDate</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>productId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>productName</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>version</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>price</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>description</field-name>
            </cmp-field>
            <primkey-field>competitorProductId</primkey-field>
            <query>
                <query-method>
                    <method-name>findByCompetitorProductNameCompetitorId</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.String</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(r) FROM CompetitorProduct AS r WHERE r.companyId = ?1 AND r.productName = ?2 AND r.competitorId=?3]]>
                </ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByCompetitorId</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(r) FROM CompetitorProduct AS r WHERE r.competitorId = ?1]]>
                </ejb-ql>
            </query>
        </entity>
        <entity>
            <ejb-name>Pricing</ejb-name>
            <local-home>com.piramide.elwis.domain.productmanager.PricingHome</local-home>
            <local>com.piramide.elwis.domain.productmanager.Pricing</local>
            <ejb-class>com.piramide.elwis.domain.productmanager.PricingBean</ejb-class>
            <persistence-type>Container</persistence-type>
            <prim-key-class>com.piramide.elwis.domain.productmanager.PricingPK</prim-key-class>
            <reentrant>false</reentrant>
            <cmp-version>2.x</cmp-version>
            <abstract-schema-name>Pricing</abstract-schema-name>
            <cmp-field>
                <field-name>companyId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>productId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>price</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>quantity</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>version</field-name>
            </cmp-field>
        </entity>
        <entity>
            <ejb-name>ProductPicture</ejb-name>
            <local-home>com.piramide.elwis.domain.productmanager.ProductPictureHome</local-home>
            <local>com.piramide.elwis.domain.productmanager.ProductPicture</local>
            <ejb-class>com.piramide.elwis.domain.productmanager.ProductPictureBean</ejb-class>
            <persistence-type>Container</persistence-type>
            <prim-key-class>com.piramide.elwis.domain.productmanager.ProductPicturePK</prim-key-class>
            <reentrant>false</reentrant>
            <cmp-version>2.x</cmp-version>
            <abstract-schema-name>ProductPicture</abstract-schema-name>
            <cmp-field>
                <field-name>companyId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>freeTextId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>productPictureName</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>productId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>size</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>uploadDate</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>version</field-name>
            </cmp-field>
            <query>
                <query-method>
                    <method-name>findByProductId</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(r) FROM ProductPicture AS r WHERE r.productId = ?1]]>
                </ejb-ql>
            </query>
        </entity>
        <entity>
            <ejb-name>ProductSupplier</ejb-name>
            <local-home>com.piramide.elwis.domain.productmanager.ProductSupplierHome</local-home>
            <local>com.piramide.elwis.domain.productmanager.ProductSupplier</local>
            <ejb-class>com.piramide.elwis.domain.productmanager.ProductSupplierBean</ejb-class>
            <persistence-type>Container</persistence-type>
            <prim-key-class>com.piramide.elwis.domain.productmanager.ProductSupplierPK</prim-key-class>
            <reentrant>false</reentrant>
            <cmp-version>2.x</cmp-version>
            <abstract-schema-name>ProductSupplier</abstract-schema-name>
            <cmp-field>
                <field-name>active</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>companyId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>discount</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>partNumber</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>price</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>productId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>supplierId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>unitId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>version</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>contactPersonId</field-name>
            </cmp-field>
            <query>
                <query-method>
                    <method-name>findBySupplier</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(s) FROM ProductSupplier AS s WHERE s.supplierId = ?1 AND s.contactPersonId IS NULL]]>
                </ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByContactPerson</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(s) FROM ProductSupplier AS s WHERE s.supplierId = ?1 AND s.contactPersonId = ?2]]>
                </ejb-ql>
            </query>
        </entity>
    </enterprise-beans>
    <relationships>
        <ejb-relation>
            <ejb-relation-name>Product - ProductFreeText</ejb-relation-name>
            <ejb-relationship-role>
                <ejb-relationship-role-name>Product</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <relationship-role-source>
                    <ejb-name>Product</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>descriptionText</cmr-field-name>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>ProductFreeText</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <cascade-delete/>
                <relationship-role-source>
                    <ejb-name>ProductFreeText</ejb-name>
                </relationship-role-source>
            </ejb-relationship-role>
        </ejb-relation>

        <ejb-relation>
            <ejb-relation-name>Product - CompetitorProduct</ejb-relation-name>
            <ejb-relationship-role>
                <ejb-relationship-role-name>Product</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <relationship-role-source>
                    <ejb-name>Product</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>competitorProduct</cmr-field-name>
                    <cmr-field-type>java.util.Collection</cmr-field-type>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>CompetitorProduct</ejb-relationship-role-name>
                <multiplicity>Many</multiplicity>
                <cascade-delete/>
                <relationship-role-source>
                    <ejb-name>CompetitorProduct</ejb-name>
                </relationship-role-source>
            </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relation-name>ProductSupplier - Product</ejb-relation-name>
            <ejb-relationship-role>
                <ejb-relationship-role-name>ProductSupplier</ejb-relationship-role-name>
                <multiplicity>Many</multiplicity>
                <relationship-role-source>
                    <ejb-name>ProductSupplier</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>product</cmr-field-name>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>Product</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <relationship-role-source>
                    <ejb-name>Product</ejb-name>
                </relationship-role-source>
            </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relation-name>Product - Pricing</ejb-relation-name>
            <ejb-relationship-role>
                <ejb-relationship-role-name>Product</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <relationship-role-source>
                    <ejb-name>Product</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>pricingList</cmr-field-name>
                    <cmr-field-type>java.util.Collection</cmr-field-type>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>Pricing</ejb-relationship-role-name>
                <multiplicity>Many</multiplicity>
                <cascade-delete/>
                <relationship-role-source>
                    <ejb-name>Pricing</ejb-name>
                </relationship-role-source>
            </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relation-name>Product - ProductPicture</ejb-relation-name>
            <ejb-relationship-role>
                <ejb-relationship-role-name>Product</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <relationship-role-source>
                    <ejb-name>Product</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>productPictureList</cmr-field-name>
                    <cmr-field-type>java.util.Collection</cmr-field-type>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>ProductPicture</ejb-relationship-role-name>
                <multiplicity>Many</multiplicity>
                <cascade-delete/>
                <relationship-role-source>
                    <ejb-name>ProductPicture</ejb-name>
                </relationship-role-source>
            </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relation-name>ProductText - ProductFreeText</ejb-relation-name>
            <ejb-relationship-role>
                <ejb-relationship-role-name>ProductText</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <relationship-role-source>
                    <ejb-name>ProductText</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>productFreeText</cmr-field-name>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>ProductFreeText</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                <cascade-delete/>
                <relationship-role-source>
                    <ejb-name>ProductFreeText</ejb-name>
                </relationship-role-source>
            </ejb-relationship-role>
        </ejb-relation>
    </relationships>
    <assembly-descriptor>
        <container-transaction>
            <description>Transaction attributes for 'Product' methods</description>
            <method>
                <ejb-name>Product</ejb-name>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <description>Transaction attributes for 'ProductFreeText' methods</description>
            <method>
                <ejb-name>ProductFreeText</ejb-name>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <description>Transaction attributes for 'competitorProduct' methods</description>
            <method>
                <ejb-name>CompetitorProduct</ejb-name>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <description>Transaction attributes for 'Pricing' methods</description>
            <method>
                <ejb-name>Pricing</ejb-name>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <description>Transaction attributes for 'ProductPicture' methods</description>
            <method>
                <ejb-name>ProductPicture</ejb-name>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <description>Transaction attributes for 'ProductSupplier' methods</description>
            <method>
                <ejb-name>ProductSupplier</ejb-name>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
    </assembly-descriptor>
</ejb-jar>